<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
</head>
<body>
<header>
  <h1><a th:href="@{/}">Material Manager</a></h1>
  <nav>
    <ul>
      <li><a th:href="@{/lectures}">강의</a></li>
      <li><a th:href="@{/materials}">자료</a></li>
      <!-- 관리자만 사용자 관리 메뉴 표시 -->
      <a th:if="${session.loginUser != null} and ${session.loginUser.role != null} and ${session.loginUser.role.name() == 'ADMIN'}"
         th:href="@{/users}">사용자 관리</a>

      <li th:if="${session.loginUser == null}"><a th:href="@{/auth/login}">로그인</a></li>
      <li th:if="${session.loginUser == null}"><a th:href="@{/auth/signup}">회원가입</a></li>
      <li th:if="${session.loginUser != null}">
        <span th:text="${session.loginUser.name}"></span>님
        (<span th:text="${session.loginUser.role}"></span>)
        <a th:href="@{/auth/logout}">로그아웃</a>
      </li>
    </ul>
  </nav>
  <hr>
</header>

</body>
</html>
